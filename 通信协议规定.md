# 串口通信协议

通信数据以包的形式发送，数据包的基本格式为：

[包头] [数据包类型] [数据长度] [数据内容] [校验码] [包尾]

- 包头：0xff 0xaa

- 数据类型：

  |  类型代码   | 数据包类型 |               解释               |
  | :---------: | :--------: | :------------------------------: |
  |    0x00     |  写数据包  |           无返回数据包           |
  | 0x01 ~ 0x20 |  读数据包  | 要求对方返回一个对应的返回数据包 |
  | 0x21 ~ 0x40 | 返回数据包 |      与读数据包的编号相差32      |
  | 0x41 ~ 0xff |    保留    |                                  |

- 数据长度：数据内容长度，不包括其他部分，最大255

- 数据内容：均为单字节独立数据，需要传输更大的数字自行拆分

- 校验码：计算方式为所有数据内容累加的低 8 位再取反，校验时将校验码一并累加，如果结果为 0 则校验通过

- 包尾：0x55 0x00